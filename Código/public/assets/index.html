<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Simulador de Tabela Hash Extensível</title>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.4.2/p5.min.js"></script>
  <script src="https://cdn.tailwindcss.com"></script>
  <style>
    /* Paleta monocromática baseada em #134062 */
    :root {
      --cor-base: #134062;
      --cor-escura: #0D2F4B;
      --cor-clara: #1A5276;
      --cor-intermediaria: #2C7399;
      --cor-muito-clara: #E6ECF0;
    }
    body {
      background-color: var(--cor-base);
      color: var(--cor-muito-clara);
      font-family: Arial, sans-serif;
    }
    input, button {
      background-color: var(--cor-muito-clara);
      border-color: var(--cor-escura);
    }
    button, input[type="radio"] + label {
      background-color: var(--cor-clara);
      color: var(--cor-muito-clara);
    }
    button:hover, input[type="radio"]:checked + label {
      background-color: var(--cor-intermediaria);
    }
    #output {
      background-color: var(--cor-escura);
      border-color: var(--cor-escura);
    }
  </style>
</head>
<body class="flex flex-col items-center min-h-screen p-4">
  <h1 class="text-3xl font-bold mb-4">Simulador de Tabela Hash Extensível</h1>
  
  <div class="flex flex-col items-center bg-[var(--cor-escura)] p-6 rounded-lg shadow-lg w-full max-w-md">
    <div class="flex space-x-4 mb-4">
      <div class="flex items-center">
        <input type="radio" id="tipoInteiro" name="tipoEntrada" value="inteiro" checked class="hidden">
        <label for="tipoInteiro" class="px-4 py-2 rounded cursor-pointer">Inteiro</label>
      </div>
      <div class="flex items-center">
        <input type="radio" id="tipoChar" name="tipoEntrada" value="char" class="hidden">
        <label for="tipoChar" class="px-4 py-2 rounded cursor-pointer">Char</label>
      </div>
    </div>
    <input id="keyInput" type="number" placeholder="Digite uma chave inteira" class="w-full p-2 mb-4 rounded border-2 text-[var(--cor-escura)]">
    <div class="flex space-x-4">
      <button onclick="inserir()" class="px-4 py-2 rounded hover:bg-[var(--cor-intermediaria)]">Inserir</button>
      <button onclick="buscar()" class="px-4 py-2 rounded hover:bg-[var(--cor-intermediaria)]">Buscar</button>
      <button onclick="remover()" class="px-4 py-2 rounded hover:bg-[var(--cor-intermediaria)]">Remover</button>
    </div>
    <div id="output" class="w-full mt-4 p-2 rounded text-sm"></div>
  </div>

  <div id="canvas-container" class="mt-6"></div>

  <script>
    // Configuração da tabela hash
    let tableSize = 4; // Tamanho inicial da tabela
    let hashTable = Array(tableSize).fill().map(() => []);
    let highlightedBucket = -1; // Para destacar bucket na busca

    // Função hash
    function hashFunction(key, tipo) {
      if (tipo === 'char') {
        return key.charCodeAt(0) % tableSize;
      }
      return key % tableSize;
    }

    // Ajustar tipo de entrada com base no rádio
    document.getElementById('tipoInteiro').addEventListener('change', () => {
      document.getElementById('keyInput').type = 'number';
      document.getElementById('keyInput').placeholder = 'Digite uma chave inteira';
      document.getElementById('keyInput').value = '';
    });
    document.getElementById('tipoChar').addEventListener('change', () => {
      document.getElementById('keyInput').type = 'text';
      document.getElementById('keyInput').maxLength = 1;
      document.getElementById('keyInput').placeholder = 'Digite um caractere';
      document.getElementById('keyInput').value = '';
    });

    // Função para inserir chave
    function inserir() {
      const tipo = document.querySelector('input[name="tipoEntrada"]:checked').value;
      const keyInput = document.getElementById('keyInput').value;
      let key, displayKey;

      if (tipo === 'inteiro') {
        key = parseInt(keyInput);
        if (isNaN(key)) {
          document.getElementById('output').innerText = 'Por favor, insira um número inteiro válido.';
          return;
        }
        displayKey = key;
      } else {
        if (keyInput.length !== 1) {
          document.getElementById('output').innerText = 'Por favor, insira exatamente um caractere.';
          return;
        }
        key = keyInput;
        displayKey = key;
        key = key.charCodeAt(0); // Converter char para código ASCII
      }

      
    }

    // Função para buscar chave
    function buscar() {
      const tipo = document.querySelector('input[name="tipoEntrada"]:checked').value;
      const keyInput = document.getElementById('keyInput').value;
      let key, displayKey;

      if (tipo === 'inteiro') {
        key = parseInt(keyInput);
        if (isNaN(key)) {
          document.getElementById('output').innerText = 'Por favor, insira um número inteiro válido.';
          return;
        }
        displayKey = key;
      } else {
        if (keyInput.length !== 1) {
          document.getElementById('output').innerText = 'Por favor, insira exatamente um caractere.';
          return;
        }
        key = keyInput.charCodeAt(0);
        displayKey = keyInput;
      }

      
    }

    // Função para remover chave
    function remover() {
      const tipo = document.querySelector('input[name="tipoEntrada"]:checked').value;
      const keyInput = document.getElementById('keyInput').value;
      let key, displayKey;

      if (tipo === 'inteiro') {
        key = parseInt(keyInput);
        if (isNaN(key)) {
          document.getElementById('output').innerText = 'Por favor, insira um número inteiro válido.';
          return;
        }
        displayKey = key;
      } else {
        if (keyInput.length !== 1) {
          document.getElementById('output').innerText = 'Por favor, insira exatamente um caractere.';
          return;
        }
        key = keyInput.charCodeAt(0);
        displayKey = keyInput;
      }

     
    }

    
  </script>
</body>
</html>